\section{Metoda pełnych ścieżek}
\index{metoda!pełnych ścieżek|(textbf}
% http://troels.arvin.dk/db/rdbms/links/#hierarchical
% 
% http://en.wikipedia.org/wiki/Transitive_closure
% http://pl.wikipedia.org/wiki/Domknięcie_przechodnie

% Domknięcie_przechodnie Cormen:644

% Reprezentacja ta opiera się na

% Ta metoda 

Metoda został spopularyzowana w Polskim Internecie przez \emph{Huberta Lubaczewskiego}\index{Lubaczewski Hubert} lepiej znanego pod pseudonimem \emph{depesz}\index{depesz|see{Lubaczewski Hubert}}.

\todo{napisać czym moja implementacja różni się od implementacji Depesza}

\index{drzewo!domknięcie przechodnie}

Idea metody jest prosta. 
Głowna tabela z danymi nie zawiera żadnych informacji o hierarchi danych. 
Jedynym wymogiem jest istnienie w niej klucza głównego\index{klucz!główny}.

Cała informacja potrzebna do operowania na drzewie zawiera się w dodatkowej tabeli. 
Zawiera ona informacje o odległości pomiędzy każdym elementem a wszystkimi jego potomkami.
Czyli 

%\includegraphics[width=8.5cm]%
%\begin{verbatim}[dot] transclos
%digraph G {
%  rankdir=RL;
%
%  A -> B [label="1"];
%  B -> C [label="1"];
%  C -> D [label="1"];
%
%
%  A -> C [label="2"];
%  B -> D [label="2"];
%
%
%  A -> D [label="3"];
%  
%}
%\end{verbatim}


\temat{Reprezentacja}

\begin{verbatim}[table] full

>n1 _
top_id | bottom_id | distance
NULL   | 1         | 0
1      | 1         | 0

>n2 n1
top_id | bottom_id | distance
NULL   | 2         | 1
1      | 2         | 1
2      | 2         | 0

>n3 n2
top_id | bottom_id | distance
NULL   | 3         | 2
1      | 3         | 2
2      | 3         | 1
3      | 3         | 0

>n4 n1
top_id | bottom_id | distance
NULL   | 4         | 1
1      | 4         | 1
4      | 4         | 0

>n5 n4
top_id | bottom_id | distance
NULL   | 5         | 2
1      | 5         | 2
4      | 5         | 1
5      | 5         | 0


>n6 n5
top_id | bottom_id | distance
NULL   | 6         | 3
1      | 6         | 3
4      | 6         | 2
5      | 6         | 1
6      | 6         | 0

>n7 n5
top_id | bottom_id | distance
NULL   | 7         | 3
1      | 7         | 3
4      | 7         | 2
5      | 7         | 1
7      | 7         | 0

>n8 n5
top_id | bottom_id | distance
NULL   | 8         | 3
1      | 8         | 3
4      | 8         | 2
5      | 8         | 1
8      | 8         | 0

>n9 n4
top_id | bottom_id | distance
NULL   | 9         | 2
1      | 9         | 2
4      | 9         | 1
9      | 9         | 0

>n10 n1
top_id | bottom_id | distance
NULL   | 10        | 1
1      | 10        | 1
10     | 10        | 0

\end{verbatim}


\temat{Operacje}

\operacja{Reprezentacja w SQL}
%! method-sql full.create

\operacja{Wstawianie danych}
% %! method-sql full.insert

\operacja{Pobranie korzeni}
%! method-sql full.roots

\operacja{Pobranie rodzica}
%! method-sql full.parent

\operacja{Pobranie dzieci}
%! method-sql full.children

\operacja{Pobranie przodków}
%! method-sql full.ancestors

\operacja{Pobieranie potomków}
%! method-sql full.descendants


\temat{Wydajność}

\begin{qxtab}{full}{Wydajność reprezentacji pełnych ścieżek}
%! result-table full deep3
\end{qxtab}

\begin{qxfig}{full}{Wydajność reprezentacji pełnych ścieżek}
%! result-chart full deep3
\end{qxfig}


\index{metoda!pełnych ścieżek|)}


