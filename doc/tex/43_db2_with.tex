\section{IBM DB2 \texttt{with}}

% http://www.ibm.com/developerworks/data/library/techarticle/0307steinbach/0307steinbach.html

Opis standardowej metody with która pojawiła się w standardzie SQL??. Porównanie z connect by

\begin{verbatim}[sql]
WITH temptab(deptid, empcount, superdept) AS
   (    SELECT root.deptid, root.empcount, root.superdept
            FROM departments root
            WHERE deptname='Production'
     UNION ALL
        SELECT sub.deptid, sub.empcount, sub.superdept
            FROM departments sub, temptab super
            WHERE sub.superdept = super.deptid
   )
SELECT sum(empcount) FROM temptab
\end{verbatim}

