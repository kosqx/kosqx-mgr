\documentclass[12pt,a4paper,oneside]{report}
%\documentclass[10pt,a4paper,oneside]{book}
%\documentclass[10pt,a4paper,draft]{book}
%\documentclass[sfheadings,a4paper,11pt]{mwbk}

\usepackage{polski}
\usepackage[utf8]{inputenc}

\usepackage{ifpdf}

\usepackage{geometry}
\geometry{verbose,a4paper,tmargin=2.5cm,bmargin=2.5cm,lmargin=3.5cm,rmargin=2.5cm}

% \newif\ifpdf
% \ifx\pdfoutput\undefined
%    \pdffalse
% \else
%    \pdfoutput=1
%    \pdftrue
% \fi

\ifpdf
   \usepackage[pdftex]{graphics}
   \usepackage[pdftex]{color}
   \pdfcompresslevel9
\else
   \usepackage{graphics}
   \usepackage{color}
\fi

\usepackage{indentfirst}
\sloppy
\clubpenalty = 10000
\widowpenalty = 10000
\frenchspacing

% dla łatwiejszego sprawdzania
\linespread{1.3}
% \linespread{1.0}
\setcounter{tocdepth}{1}

\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{makeidx}

\usepackage{showidx}
\usepackage{makeidx}
\makeindex

\author{Krzysztof Kosyl}
\title{Przechowywanie danych hierarchicznych w relacyjnych bazach danych}



\newcommand{\HRule}{\rule{\linewidth}{0.5mm}}
\newcommand{\operacja}[1]{(\subsubsection*{#1}}

% wyświetla TODO: wrazie potrzeby
\newcommand{\todo}[1]{(\textcolor{red}{\textbf{#1}})}

\usepackage[unicode=true,pdftex,backref]{hyperref}
\hypersetup{
%kolory
  colorlinks=true,
  linkcolor=blue,
  %anchorcolor=black,
  %citecolor=green,
  %filecolor=magenta,
  %menucolor=red,
  %pagecolor=red,
  %urlcolor=cyan,
%zakladki
  bookmarks=true,
  bookmarksopen=true,
  bookmarksnumbered=true,
%metadane
  pdfauthor = {Krzysztof Kosyl},
  pdftitle = {Przechowywanie danych hierarchicznych w relacyjnych bazach danych},
  pdfsubject = {Trees in relational DB},
  pdfkeywords = {tree, db},
}

% numery stron u góry
\pagestyle{headings}

% rotacje w nagłówku kolumny
\usepackage{rotating}

% dla pygments // \begin{Verbatim}
\usepackage{fancyvrb}
%! pygments-style


\begin{document}

\input{tex/00_titlepage}
\input{tex/00_abstract}

\tableofcontents{}

% \chapter*{Wstęp}
\input{tex/10_intro}


% \chapter{Wprowadzenie do tematu}
\input{tex/11_theory}

\chapter{Podstawowe metody przechowywania danych}

Metody wymienione w tym rozdziale są uniwersalne. Daje się je zaimplementować w każdej relacyjnej bazie danych. 
Można również (przy odrobinie wysiłku) kożystać z nich również w \emph{mapowaniach obiektowo-relacyjnych}\index{ORM}.
Nic nie stoi na przeszkodzie aby wykożystać te metody również w obiektowych bazach danych.

	% \section{Metoda stałej wysokości drzewa}
	% Przenieść do sekcji o metodach, o których nie będziemy mówili. Takich jak również, Dział -- pracownik.
	
	% \section{Metoda klucza obcego do rodzica}
	\input{tex/21_adjacency}

	% \section{Metoda zagnieżdzonych zbiorów}
	\input{tex/22_nested}

	% \section{Metoda pełnych ścieżek}
	\input{tex/23_full}
	
	% \section{Metoda drzew prefiksowych (trie)}
	\input{tex/24_trie}

	% drzewa binarne
	% http://commons.wikimedia.org/wiki/File:Binary_tree_in_array.svg
	% http://en.wikipedia.org/wiki/K-ary_tree


\chapter{Modifikacje metod przechowywania danych}
	% \section{Metoda łączona}


\chapter{Metody specyficzne dla bazy danych}
	\section{PL/SQL}

	% \section{PostgreSQL \texttt{ltree}}
	\input{tex/41_postgresql_ltree}
	
	% \section{Oracle \texttt{connect by}}
	\input{tex/42_oracle_connect_by}

	% \section{IBM DB2 \texttt{with}}
	\input{tex/43_db2_with}

	% \section{Microsoft SQL Server \texttt{hierarchyid}}
	\input{tex/44_sqlserver_hierarchyid}

% \begin{center}
% \begin{tabular}{| r | p{1.5cm} p{1.5cm} p{1.5cm} p{1.5cm} p{4.5cm} |}
% \hline
%  & \small{Wstawianie} & Dzieci & Potomkowie & Rodzic & Przodkowie \\
% \hline
%   PostgreSQL & 1 & 2 & 3 & 4 & 5 \\
%   MySQL      & 1 & 2 & 3 & 4 & 5 \\
%   SQLite     & 1 & 2 & 3 & 4 & 5 \\
% \hline
% \end{tabular}
% \end{center}
% 
% \begin{table}[h]
%   \caption{Performance at peak F-measure}
% \begin{tabular}{| r | p{1.8cm}| p{1.8cm} p{1.8cm} p{1.8cm} p{1.8cm} p{1.8cm} |}
% \hline
% Operacja & \small{PostgreSQL} & \small{MySQL} & \small{SQLite} & \small{Oracle} & \small{DB2} & \small{MS SQL}\\
% \hline
%   Wstawianie & 1 & 2 & 3 & 4 & 5 & 6\\
%   Przodkowie      & 1 & 2 & 3 & 4 & 5 & 6 \\
%   Potomkowie     & 1 & 2 & 3 & 4 & 5 & 6\\
% \hline
% \end{tabular}
% \end{table}



\begin{table}[h]
  \caption{Metoda asdf}
\begin{center}
\begin{tabular}{| r | r r r r r  |}
\hline
 &
 \begin{sideways} Wstawianie \end{sideways} &
 \begin{sideways} Dzieci \end{sideways} &
 \begin{sideways} Potomkowie \end{sideways} &
 \begin{sideways} Rodzic \end{sideways} &
 \begin{sideways} Przodkowie \end{sideways} \\
\hline
  PostgreSQL & 1.2 & 2.3 & 123.5 & 34.6 & 5.3 \\
  MySQL      & 1 & 2 & 3 & 4 & 5 \\
  SQLite     & 1 & 2 & 3 & 4 & 5 \\
\hline
\end{tabular}
\end{center}
\end{table}
	

% \chapter{Porównanie wydajności}
% \section{Po czym porównywać?}
% \subsection{Metodzie}
% \subsection{Bazie danych}



Dane użyte podczas testów zostały wygenerowane losowo w sposób automatyczny. Program który zajmuje się tym zadaniem został dołączony do tej pracy.

% \chapter{Możliwości korzystania z danych hierarchicznych w O/RM}
% \section{Active Record}
% \section{Hibernate}
% \subsection{HQL}
% Ten akapit opisuje HQL\index{HQL}.
% Przydatność: - jeśli przy move trzeba aktualizować mnóstwo elementów to metoda będzie bardzo czasochłonna dla OR/M


% \chapter{Zastosowania i przykłady}

% \section{LDAP}
% \section{DNS?}
% \section{XML}
% \subsection{Różnice pomiędzy XML a drzewami}
% \begin{itemize}
%  \item kolejność jest istotna
%  \item język XPath i ścieżki w dokumencie
% \end{itemize}

\appendix

\chapter{Metodyka testów}

\input{tex/91_test}

\chapter{Program testujący}

\input{tex/92_app}

\input{tex/90_bibliography}

%\listoffimakegures
%\listoftables

\clearpage
\phantomsection
\addcontentsline{toc}{chapter}{\indexname}
\printindex


\end{document}


%% snippets

% \begin{table}[h!]
%   \caption{Wyniki rmeprezentacji zagnieżdzonych zbiorów}
%    \begin{center}
% %! result-table nested deep3
%    \end{center}
% \end{table}
% 
% \begin{figure}[h!t]
%   \caption{Wyniki reprezentacji zagnieżdzonych zbiorów}
%   \label{fig:img_chart_nested}
%   \begin{center}
% %! result-chart nested deep3
%   \end{center}
% \end{figure}